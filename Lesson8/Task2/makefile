CC = g++
CFLAGS = -Wall -Wextra -std=c++11

# Перечисляем все исходные файлы
SRCS = main.cc

# Генерируем имена объектных файлов из исходных файлов
OBJS = $(SRCS:.cc=.o)

# Имя исполняемого файла
TARGET = myprogram

# Перечисляем все заголовочные файлы, от которых зависит программа
DEPS = main.hh

# Подключаем библиотеку zlib с помощью pkg-config
LIBS = $(shell pkg-config --libs zlib)

# Задаем цель по умолчанию (выполняется при вызове make без аргументов)
all: $(TARGET)

# Создаем исполняемый файл из объектных файлов
$(TARGET): $(OBJS)
	$(CC) $(CFLAGS) -o $@ $^ $(LIBS)

# Компилируем исходные файлы в объектные файлы
%.o: %.cc $(DEPS)
	$(CC) $(CFLAGS) -c -o $@ $<

# Указываем зависимость объектных файлов от заголовочных файлов
$(OBJS): $(DEPS)

# Чистим все созданные файлы при вызове make clean
clean:
	rm -f $(OBJS) $(TARGET)

